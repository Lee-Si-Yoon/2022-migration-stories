{"version":3,"file":"static/js/721.d85e5bbc.chunk.js","mappings":"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","sources":["components/ProgressiveImg.jsx","components/wanderOBJ.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst ProgressiveImage = styled.img`\n  filter: ${(props) => (props.loadingProp === \"loading\" ? \"blur(10px)\" : \"blur(0px)\")};\n  /* clip-path: ${(props) => (props.loadingProp === \"loading\" ? \"inset(0)\" : null)}; */\n  transition: filter 0.5s linear;\n`;\n\nexport default function ProgressiveImg({ placeholderSrc, src, ...props }) {\n  const [imgSrc, setImgSrc] = useState(placeholderSrc || src);\n  useEffect(() => {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => {\n      setImgSrc(src);\n    };\n  }, [src]);\n  const loadingProp = placeholderSrc && imgSrc === placeholderSrc ? \"loading\" : \"loaded\";\n  return (\n    <ProgressiveImage\n      {...{ src: imgSrc, ...props }}\n      alt={props.alt || \"\"}\n      draggable=\"false\"\n      loadingProp={loadingProp}\n    />\n  );\n}\n","import { motion } from \"framer-motion\";\nimport { useLayoutEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport ProgressiveImg from \"../components/ProgressiveImg\";\n\nconst OBJWrapper = styled(motion.div)`\n  /* position: absolute; */\n  cursor: pointer;\n  z-index: ${(props) => (props.$focus ? 100 : 0)};\n  filter: ${(props) => (props.$focus ? \"brightness(1.5)\" : \"brightness(1)\")};\n`;\n\nconst OBJ = styled(ProgressiveImg)`\n  width: 600px;\n  @media screen and (max-width: 575.98px) {\n    width: 380px;\n  }\n`;\n\nconst Blocker = styled.div`\n  z-index: 99;\n  background-color: rgba(0, 0, 0, 0.6);\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst StoryWrapper = styled.div`\n  width: 100%;\n  height: 60%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Story = styled.div`\n  max-width: 600px;\n  min-width: 300px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  @media screen and (max-width: 575.98px) {\n    width: 100%;\n  }\n`;\nconst StoryMain = styled.div`\n  padding-bottom: 1rem;\n  p {\n    text-align: center;\n    color: white;\n    font-size: 1.5rem;\n    line-height: 160%;\n  }\n  @media screen and (max-width: 575.98px) {\n    width: 80%;\n    p {\n      font-size: 1.2rem;\n    }\n  }\n`;\nconst StoryText = styled.div`\n  p {\n    font-size: 1.2rem;\n    text-align: center;\n    line-height: 140%;\n  }\n  @media screen and (max-width: 575.98px) {\n    width: 80%;\n    p {\n      font-size: 1rem;\n    }\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  margin-top: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LinkButton = styled(Link)`\n  background-color: ${(props) => props.theme.colors.text};\n  color: ${(props) => props.theme.colors.background};\n  /* border: 1px solid ${(props) => props.theme.colors.background}; */\n  border: none;\n  border-radius: 0.5rem;\n  font-weight: bold;\n  font-size: 1.25rem;\n  padding: 0 2rem;\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n`;\nconst CancelButton = styled(motion.button)`\n  margin-top: 2rem;\n  background: none;\n  color: white;\n  border: 1px solid white;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`;\n\nconst lerp = (a, b, n) => (1 - n) * a + n * b;\n\nexport default function WanderOBJ({\n  imgsrc,\n  placeholderSrc,\n  name,\n  func,\n  text,\n  translation,\n}) {\n  const imgRef = useRef(null);\n  // ANIMATE\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  // STYLING\n  const [opacity, setOpacity] = useState(1);\n  const [durationState, setDuration] = useState(0);\n  // INTERACTIONS\n  const [isPaused, setIsPaused] = useState(true);\n  const [isClicked, setIsClicked] = useState(false);\n  const [focus, setFocus] = useState(false);\n\n  // 화면 벗어났을때 boolean 반환\n  function resetPosition() {\n    let bool = false;\n    if (\n      imgRef.current.getBoundingClientRect().x <\n        0 - imgRef.current.getBoundingClientRect().width ||\n      imgRef.current.getBoundingClientRect().x > window.innerWidth ||\n      imgRef.current.getBoundingClientRect().y <\n        0 - imgRef.current.getBoundingClientRect().height ||\n      imgRef.current.getBoundingClientRect().y > window.innerHeight\n    ) {\n      let targetPosition = {\n        x:\n          window.innerWidth / 2 -\n          imgRef.current.getBoundingClientRect().width / 2,\n        y:\n          window.innerHeight / 2 -\n          imgRef.current.getBoundingClientRect().height / 2,\n      };\n      bool = true;\n      setOpacity(0);\n      setDuration(0.25);\n      setPosition((pos) => ({\n        x: lerp(pos.x, targetPosition.x, 1),\n        y: lerp(pos.y, targetPosition.y, 1),\n      }));\n      // TODO 이거 안됨, 서서히 생기게 만들기\n      setTimeout(() => {\n        let alpha = 0;\n        let intervalId = 0;\n        function fadeIn() {\n          if (alpha > 1) {\n            alpha = alpha + 0.1;\n            return alpha;\n          } else {\n            clearInterval(intervalId);\n          }\n        }\n        intervalId = setInterval(fadeIn, 25);\n        setOpacity(fadeIn);\n      }, 1000);\n    } else {\n      bool = false;\n    }\n    return { bool };\n  }\n\n  // 모서리 접근시\n  // function nearBorder() {\n  //   if (\n  //     imgRef.current.getBoundingClientRect().x < 0 ||\n  //     imgRef.current.getBoundingClientRect().x >\n  //       window.innerWidth - imgRef.current.getBoundingClientRect().width / 2 ||\n  //     imgRef.current.getBoundingClientRect().y < 0 ||\n  //     imgRef.current.getBoundingClientRect().y >\n  //       window.innerHeight - imgRef.current.getBoundingClientRect().height / 2\n  //   ) {\n  //     // imgRef.current.style.opacity = 0;\n  //     setOpacity(0);\n  //   } else {\n  //     setOpacity(1);\n  //   }\n  // }\n\n  // 기본 렌더\n\n  useLayoutEffect(() => {\n    if (isPaused) {\n      let timerId;\n      let direction = Math.random() * Math.PI * 2;\n      // let turningSpeed = Math.random() - 0.8;\n      let velocity = 0.5 + Math.random() * 1;\n      const f = () => {\n        // resetPosition();\n        if (resetPosition().bool) {\n          direction = Math.random() * Math.PI * 2;\n          // turningSpeed = Math.random() - 0.8;\n          velocity = 0.5 + Math.random() * 1;\n        }\n        // direction = direction + turningSpeed * 0.01;\n        setPosition((pos) => ({\n          x: pos.x + Math.sin(direction) * velocity,\n          y: pos.y + Math.cos(direction) * velocity,\n        }));\n        timerId = requestAnimationFrame(f);\n      };\n\n      timerId = requestAnimationFrame(f);\n      return () => cancelAnimationFrame(timerId);\n    }\n  }, [isPaused]);\n\n  // 클릭시 중앙으로\n  useLayoutEffect(() => {\n    if (isClicked) {\n      setDuration(0);\n      let timerId;\n      let targetPosition = {\n        x:\n          window.innerWidth / 2 -\n          imgRef.current.getBoundingClientRect().width / 2,\n        y:\n          window.innerHeight / 2 -\n          imgRef.current.getBoundingClientRect().height,\n      };\n      const f = () => {\n        setPosition((pos) => ({\n          x: lerp(pos.x, targetPosition.x, 0.05),\n          y: lerp(pos.y, targetPosition.y, 0.05),\n        }));\n        timerId = requestAnimationFrame(f);\n      };\n      timerId = requestAnimationFrame(f);\n      return () => cancelAnimationFrame(timerId);\n    }\n  }, [isClicked]);\n\n  function onClick() {\n    setIsPaused((prev) => !prev);\n    setIsClicked((prev) => !prev);\n    setFocus((prev) => !prev);\n  }\n  function onHover() {\n    if (!focus) {\n      return { scale: 1.1 };\n    } else {\n      return null;\n    }\n  }\n\n  return (\n    <div key={name}>\n      <OBJWrapper\n        // loading=\"lazy\"\n        style={{ position: \"absolute\" }}\n        ref={imgRef}\n        transition={{ duration: durationState }}\n        animate={{\n          x: position.x,\n          y: position.y,\n          opacity: opacity,\n        }}\n        onClick={() => {\n          func(onClick);\n        }}\n        $focus={focus}\n        whileHover={onHover}\n      >\n        <OBJ src={imgsrc} alt={name} placeholderSrc={placeholderSrc} />\n      </OBJWrapper>\n      {isClicked ? (\n        <Blocker>\n          <div className=\"blank\" style={{ width: \"100%\", height: \"40%\" }}></div>\n          <StoryWrapper>\n            <Story>\n              <StoryMain>\n                {text.split(\"\\n\").map((t, i) => (\n                  <p key={i}>{t}</p>\n                ))}\n              </StoryMain>\n              <StoryText>\n                {translation.split(\"\\n\").map((t, i) => (\n                  <p key={i}>{t}</p>\n                ))}\n              </StoryText>\n            </Story>\n            <ButtonWrapper>\n              <motion.div\n                whileHover={{\n                  y: -5,\n                  borderRadius: \"1.5rem\",\n                }}\n              >\n                <LinkButton to={`/story/${name}`}>스토리 보기</LinkButton>\n              </motion.div>\n              <CancelButton\n                onClick={() => {\n                  func(onClick);\n                }}\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth={1.5}\n                  stroke=\"currentColor\"\n                  className=\"w-6 h-6\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </CancelButton>\n            </ButtonWrapper>\n          </StoryWrapper>\n        </Blocker>\n      ) : null}\n    </div>\n  );\n}\n"],"names":["ProgressiveImage","styled","props","loadingProp","ProgressiveImg","placeholderSrc","src","useState","imgSrc","setImgSrc","useEffect","img","Image","onload","alt","draggable","OBJWrapper","motion","$focus","OBJ","Blocker","StoryWrapper","Story","StoryMain","StoryText","ButtonWrapper","LinkButton","Link","theme","colors","text","background","CancelButton","lerp","a","b","n","WanderOBJ","imgsrc","name","func","translation","imgRef","useRef","x","y","position","setPosition","opacity","setOpacity","durationState","setDuration","isPaused","setIsPaused","isClicked","setIsClicked","focus","setFocus","onClick","prev","useLayoutEffect","timerId","direction","Math","random","PI","velocity","requestAnimationFrame","f","bool","current","getBoundingClientRect","width","window","innerWidth","height","innerHeight","targetPosition","pos","setTimeout","alpha","intervalId","fadeIn","clearInterval","setInterval","resetPosition","sin","cos","cancelAnimationFrame","style","ref","transition","duration","animate","whileHover","scale","className","split","map","t","i","borderRadius","to","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}