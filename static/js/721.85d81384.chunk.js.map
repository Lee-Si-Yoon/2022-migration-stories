{"version":3,"file":"static/js/721.85d81384.chunk.js","mappings":"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","sources":["components/ProgressiveImg.jsx","components/wanderOBJ.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\nconst ProgressiveImage = styled.img`\n  filter: ${(props) => (props.loadingProp === \"loading\" ? \"blur(10px)\" : \"blur(0px)\")};\n  /* clip-path: ${(props) => (props.loadingProp === \"loading\" ? \"inset(0)\" : null)}; */\n  transition: filter 0.5s linear;\n`;\n\nexport default function ProgressiveImg({ placeholderSrc, src, ...props }) {\n  const [imgSrc, setImgSrc] = useState(placeholderSrc || src);\n  useEffect(() => {\n    const img = new Image();\n    img.src = src;\n    img.onload = () => {\n      setImgSrc(src);\n    };\n  }, [src]);\n  const loadingProp = placeholderSrc && imgSrc === placeholderSrc ? \"loading\" : \"loaded\";\n  return (\n    <ProgressiveImage\n      {...{ src: imgSrc, ...props }}\n      alt={props.alt || \"\"}\n      draggable=\"false\"\n      loadingProp={loadingProp}\n    />\n  );\n}\n","import { motion } from \"framer-motion\";\nimport { useLayoutEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport ProgressiveImg from \"../components/ProgressiveImg\";\n\nconst Blocker = styled.div`\n  z-index: 99;\n  background-color: rgba(0, 0, 0, 0.6);\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  /* justify-content: center; */\n`;\n\nconst StoryWrapper = styled.div`\n  width: 100%;\n  height: 50%;\n  align-self: flex-end;\n  justify-self: flex-end;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Story = styled.p`\n  text-align: center;\n  font-size: 1.5rem;\n  line-height: 160%;\n  max-width: 600px;\n  min-width: 250px;\n  width: 100%;\n  @media screen and (max-width: 575.98px) {\n    width: 80%;\n  }\n`;\n\n// TODO X버튼 높이 지정하기\nconst ButtonWrapper = styled.div`\n  margin-top: 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst LinkButton = styled(Link)`\n  background-color: ${(props) => props.theme.colors.text};\n  color: ${(props) => props.theme.colors.background};\n  /* border: 1px solid ${(props) => props.theme.colors.background}; */\n  border: none;\n  border-radius: 0.5rem;\n  font-weight: bold;\n  font-size: 1.25rem;\n  padding: 0 2rem;\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n`;\nconst CancelButton = styled(motion.button)`\n  margin-top: 2rem;\n  background-color: ${(props) => props.theme.colors.background};\n  color: ${(props) => props.theme.colors.text};\n  border: none;\n  width: 3rem;\n  height: 3rem;\n  border-radius: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n`;\n\nconst OBJ = styled(ProgressiveImg)``;\nconst OBJWrapper = styled(motion.div)`\n  /* position: absolute; */\n  cursor: pointer;\n  z-index: ${(props) => (props.$focus ? 100 : 0)};\n  filter: ${(props) => (props.$focus ? \"brightness(1.5)\" : \"brightness(1)\")};\n`;\n\nconst lerp = (a, b, n) => (1 - n) * a + n * b;\n\nexport default function WanderOBJ({ imgsrc, placeholderSrc, name, func, text, translation }) {\n  const imgRef = useRef(null);\n  // ANIMATE\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  // STYLING\n  const [opacity, setOpacity] = useState(1);\n  const [durationState, setDuration] = useState(0);\n  // INTERACTIONS\n  const [isPaused, setIsPaused] = useState(true);\n  const [isClicked, setIsClicked] = useState(false);\n  const [focus, setFocus] = useState(false);\n\n  // 화면 벗어났을때 boolean 반환\n  function resetPosition() {\n    let bool = false;\n    if (\n      imgRef.current.getBoundingClientRect().x < 0 - imgRef.current.getBoundingClientRect().width ||\n      imgRef.current.getBoundingClientRect().x > window.innerWidth ||\n      imgRef.current.getBoundingClientRect().y <\n        0 - imgRef.current.getBoundingClientRect().height ||\n      imgRef.current.getBoundingClientRect().y > window.innerHeight\n    ) {\n      let targetPosition = {\n        x: window.innerWidth / 2 - imgRef.current.getBoundingClientRect().width / 2,\n        y: window.innerHeight / 2 - imgRef.current.getBoundingClientRect().height / 2,\n      };\n      bool = true;\n      setOpacity(0);\n      setDuration(0.25);\n      setPosition((pos) => ({\n        x: lerp(pos.x, targetPosition.x, 1),\n        y: lerp(pos.y, targetPosition.y, 1),\n      }));\n      // TODO 이거 안됨, 서서히 생기게 만들기\n      setTimeout(() => {\n        let alpha = 0;\n        let intervalId = 0;\n        function fadeIn() {\n          if (alpha > 1) {\n            alpha = alpha + 0.1;\n            return alpha;\n          } else {\n            clearInterval(intervalId);\n          }\n        }\n        intervalId = setInterval(fadeIn, 25);\n        setOpacity(fadeIn);\n      }, 1000);\n    } else {\n      bool = false;\n    }\n    return { bool };\n  }\n\n  // 모서리 접근시\n  // function nearBorder() {\n  //   if (\n  //     imgRef.current.getBoundingClientRect().x < 0 ||\n  //     imgRef.current.getBoundingClientRect().x >\n  //       window.innerWidth - imgRef.current.getBoundingClientRect().width / 2 ||\n  //     imgRef.current.getBoundingClientRect().y < 0 ||\n  //     imgRef.current.getBoundingClientRect().y >\n  //       window.innerHeight - imgRef.current.getBoundingClientRect().height / 2\n  //   ) {\n  //     // imgRef.current.style.opacity = 0;\n  //     setOpacity(0);\n  //   } else {\n  //     setOpacity(1);\n  //   }\n  // }\n\n  // 기본 렌더\n\n  useLayoutEffect(() => {\n    if (isPaused) {\n      let timerId;\n      let direction = Math.random() * Math.PI * 2;\n      // let turningSpeed = Math.random() - 0.8;\n      let velocity = 0.5 + Math.random() * 1;\n      const f = () => {\n        // resetPosition();\n        if (resetPosition().bool) {\n          direction = Math.random() * Math.PI * 2;\n          // turningSpeed = Math.random() - 0.8;\n          velocity = 0.5 + Math.random() * 1;\n        }\n        // direction = direction + turningSpeed * 0.01;\n        setPosition((pos) => ({\n          x: pos.x + Math.sin(direction) * velocity,\n          y: pos.y + Math.cos(direction) * velocity,\n        }));\n        timerId = requestAnimationFrame(f);\n      };\n\n      timerId = requestAnimationFrame(f);\n      return () => cancelAnimationFrame(timerId);\n    }\n  }, [isPaused]);\n\n  // 클릭시 중앙으로\n  useLayoutEffect(() => {\n    if (isClicked) {\n      setDuration(0);\n      let timerId;\n      let targetPosition = {\n        x: window.innerWidth / 2 - imgRef.current.getBoundingClientRect().width / 2,\n        y: window.innerHeight / 2 - imgRef.current.getBoundingClientRect().height,\n      };\n      const f = () => {\n        setPosition((pos) => ({\n          x: lerp(pos.x, targetPosition.x, 0.05),\n          y: lerp(pos.y, targetPosition.y, 0.05),\n        }));\n        timerId = requestAnimationFrame(f);\n      };\n      timerId = requestAnimationFrame(f);\n      return () => cancelAnimationFrame(timerId);\n    }\n  }, [isClicked]);\n\n  function onClick() {\n    setIsPaused((prev) => !prev);\n    setIsClicked((prev) => !prev);\n    setFocus((prev) => !prev);\n  }\n  function onHover() {\n    if (!focus) {\n      return { scale: 1.1 };\n    } else {\n      return null;\n    }\n  }\n\n  return (\n    <div key={name}>\n      <OBJWrapper\n        // loading=\"lazy\"\n        style={{ position: \"absolute\" }}\n        ref={imgRef}\n        transition={{ duration: durationState }}\n        animate={{\n          x: position.x,\n          y: position.y,\n          opacity: opacity,\n        }}\n        onClick={() => {\n          func(onClick);\n        }}\n        $focus={focus}\n        whileHover={onHover}\n      >\n        <OBJ\n          src={imgsrc}\n          alt={name}\n          placeholderSrc={placeholderSrc}\n          // TODO mobile 시 작아지도록\n          height={350}\n        />\n      </OBJWrapper>\n      {isClicked ? (\n        <Blocker>\n          <div style={{ width: \"100%\", height: \"50%\" }}></div>\n          <StoryWrapper>\n            <Story>\n              <div style={{ marginBottom: \"1rem\" }}>\n                {text.split(\"\\n\").map((t, i) => (\n                  <p key={i} style={{ color: \"white\" }}>\n                    {t}\n                  </p>\n                ))}\n              </div>\n              {translation.split(\"\\n\").map((t, i) => (\n                <p key={i} style={{ fontSize: \"1.2rem\", lineHeight: \"140%\" }}>\n                  {t}\n                </p>\n              ))}\n            </Story>\n            <ButtonWrapper>\n              <motion.div\n                whileHover={{\n                  y: -5,\n                  borderRadius: \"1.5rem\",\n                }}\n              >\n                <LinkButton to={`/story/${name}`}>스토리 보기</LinkButton>\n              </motion.div>\n              <CancelButton\n                whileHover={{ y: -5, color: \"rgba(0,0,0,100)\", backgroundColor: \"#999\" }}\n                onClick={() => {\n                  func(onClick);\n                }}\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  strokeWidth={1.5}\n                  stroke=\"currentColor\"\n                  className=\"w-6 h-6\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </CancelButton>\n            </ButtonWrapper>\n          </StoryWrapper>\n        </Blocker>\n      ) : null}\n    </div>\n  );\n}\n"],"names":["ProgressiveImage","styled","props","loadingProp","ProgressiveImg","placeholderSrc","src","useState","imgSrc","setImgSrc","useEffect","img","Image","onload","alt","draggable","Blocker","StoryWrapper","Story","ButtonWrapper","LinkButton","Link","theme","colors","text","background","CancelButton","motion","OBJ","OBJWrapper","$focus","lerp","a","b","n","WanderOBJ","imgsrc","name","func","translation","imgRef","useRef","x","y","position","setPosition","opacity","setOpacity","durationState","setDuration","isPaused","setIsPaused","isClicked","setIsClicked","focus","setFocus","onClick","prev","useLayoutEffect","timerId","direction","Math","random","PI","velocity","requestAnimationFrame","f","bool","current","getBoundingClientRect","width","window","innerWidth","height","innerHeight","targetPosition","pos","setTimeout","alpha","intervalId","fadeIn","clearInterval","setInterval","resetPosition","sin","cos","cancelAnimationFrame","style","ref","transition","duration","animate","whileHover","scale","marginBottom","split","map","t","i","color","fontSize","lineHeight","borderRadius","to","backgroundColor","xmlns","fill","viewBox","strokeWidth","stroke","className","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}